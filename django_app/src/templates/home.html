{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Michelin Star Service</title>
	<!-- Google Font Family Link Start -->
	<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Montserrat:400,700">
	<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,800">
	<!-- Google Font Family Link End -->

	<!-- CSS -->
	<link href="{% static 'css/iconmoon.css' %}" rel="stylesheet">
	<link href="{% static 'css/style.css' %}" rel="stylesheet">
	<link href="{% static 'css/cs-foodbakery-plugin.css' %}" rel="stylesheet">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
	<link href="{% static 'css/bootstrap-slider.css' %}" rel="stylesheet">
	
	<!-- JAVASCRIPT -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script src="{% static 'js/modernizr.js' %}"></script>
	<script src="{% static 'js/bootstrap.js' %}"></script>

	<style>
		body, .main-section p, .mce-content-body p{
			font:Normal  14px/24px "Open Sans", sans-serif;letter-spacing: 0px;text-transform: none;color: #515151 !important;
		}
		
		.star-placeholder {
			width: 100%;
			height: 200px;
			background: linear-gradient(45deg, #e74c3c, #c0392b);
			display: flex;
			align-items: center;
			justify-content: center;
			color: white;
			font-size: 48px;
			border-radius: 8px;
		}
		
		.suggestion-image, .recommendation-image {
			width: 100%;
			height: 150px;
			object-fit: cover;
			border-radius: 8px;
		}
		
		.star-placeholder-small {
			width: 100%;
			height: 150px;
			background: linear-gradient(45deg, #e74c3c, #c0392b);
			display: flex;
			align-items: center;
			justify-content: center;
			color: white;
			font-size: 32px;
			border-radius: 8px;
		}
	</style>
</head>

<body>
	<!--Main Wrapper-->
	<div class="wrapper">
		<!-- Header Start -->
		<header id="header">
			<div class="main-header">
				<div class="container">
					<div class="row">
						<div class="col-lg-8 col-md-8 col-sm-12 col-xs-12">
							<div class="logo">
								<figure>
									<a href="index.html" class="light-logo">
										<div style="display: flex; align-items: center; font-size: 24px; color: #e74c3c;">
											<i class="icon-star-full" style="font-size: 32px; margin-right: 10px;"></i>
											<span style="font-weight: bold;">Michelin Star Service</span>
										</div>
									</a>
								</figure>
							</div>
							<div class="main-nav">
									<nav id="site-navigation" class="main-navigation">
										<ul>
											<li><a href="{% url 'home' %}">Home</a></li>
											<li><a href="{% url 'restaurants:restaurant_list' %}">Restaurants</a></li>
											<li><a href="{% url 'restaurants:gallery' %}">Gallery</a></li>
											<li>
												<a href="#">Pages</a>
												<ul>
													<li><a href="price-plans.html">Price Plans</a></li>
													<li><a href="how-it-works.html">How it works</a></li>
													<li><a href="faq.html">FAQ's</a></li>
													<li><a href="404.html">404</a></li>
													<li><a href="search-result.html">Search Result</a></li>
													<li><a href="contact-us.html">Contact</a></li>
												</ul>
												<!--End Sub Menu -->
											</li>
											<li>
												<a href="#">Blogs</a>
												<ul>
													<li><a href="blog-large.html">Blog Large</a></li>
													<li><a href="blog-medium.html">Blog Medium</a></li>
													<li><a href="blog-masonry.html">Blog Masonry</a></li>
													<li><a href="blog-detail.html">Blog Detail Page</a></li>
												</ul>
												<!--End Sub Menu -->
											</li>
										</ul>
									</nav><!-- .main-navigation -->
								</div>
							
							<div class="main-location">
								<ul>
									<li class="location-has-children choose-location">
										<form action="#">
											<input type="text" value="" name="location" placeholder="Enter your delivery location" autocomplete="off">
											<span id="foodbakery_radius_location_open" class="foodbakery-radius-location"><i class="icon-target5"></i></span>
										</form>
										
									</li>
								</ul>
								</div>
						</div>
						<div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
							<div class="login-option">
								<a class="cs-color cs-popup-joinus-btn login-popup" data-target="#sign-in" data-toggle="modal" href="#user-register">Login / Register</a><a class="get-start-btn" href="register-restaurant.html">
									Register
									Restaurant </a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</header>
		<!-- Header End -->
		<!-- Main Section Start -->
		<div class="main-section">
			<!-- Home Pages Elements Strat -->
			<!-- Main Search Start -->
			<div class="page-section nopadding cs-nomargin" style="padding-top: 200px; padding-bottom: 150px; margin-bottom: 0px; background: url(assets/extra-images/bg-image1.jpg) no-repeat center / cover;">
				<div class="container">
					<div class="row">
						<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 ">
							<div class="element-title">
								<h1 style="font-size: 40px; color: #505050; text-transform: uppercase; line-height: 50px; margin-bottom: 25px; text-align:center;">
									Experience Michelin-Starred Tech: Crafted Like Cuisine, Engineered Like Excellence</h1>
                                <h3 style="font-size: 24px; color: #505050; line-height: 35px; margin-bottom: 25px; text-align:center;">  
                                    üåç Explore 15,000+ Global Fine Dining Destinations ‚Ä¢ ü§ñ Intelligent, Taste-Aware Recommendations ‚Ä¢ üïê Seamlessly Tuned to Global, Locale-Sensitive Insights Across Timezones</h3>
								<div style="text-align: center; margin-bottom: 30px;">
									<div style="display: inline-flex; gap: 30px; flex-wrap: wrap; justify-content: center;">
										<div style="text-align: center;">
											<div style="font-size: 24px; color: #e74c3c; margin-bottom: 5px;">‚≠ê</div>
											<div style="font-size: 14px; color: #666;">Michelin Stars</div>
										</div>
										<div style="text-align: center;">
											<div style="font-size: 24px; color: #3498db; margin-bottom: 5px;">üì±</div>
											<div style="font-size: 14px; color: #666;">AI Analysis</div>
										</div>
										<div style="text-align: center;">
											<div style="font-size: 24px; color: #27ae60; margin-bottom: 5px;">üåê</div>
											<div style="font-size: 14px; color: #666;">Global Coverage</div>
										</div>
										<div style="text-align: center;">
											<div style="font-size: 24px; color: #f39c12; margin-bottom: 5px;">üìä</div>
											<div style="font-size: 14px; color: #666;">Smart Insights</div>
										</div>
									</div>
								</div>
								<p style="font-size: 18px; letter-spacing: 1px; color: #505050; text-align:center;">
									Explore restaurants from every timezone, translated and analyzed by AI</p>
							</div>
						</div>
						<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 ">
							<div class="main-search fancy bg-holder">
								<form id="restaurant-search-form" action="{% url 'restaurants:restaurant_list' %}" method="GET">
									<div class="row">
										<div class="col-lg-6 col-md-6 col-sm-5 col-xs-12">
											<div class="field-holder">
												<input type="text" name="search" id="restaurant-query" placeholder="Restaurant name, cuisine, or city" autocomplete="off">
												<div id="search-suggestions" class="search-suggestions" style="display: none;"></div>
											</div>
										</div>
										<div class="col-lg-4 col-md-4 col-sm-5 col-xs-12">
											<div class="field-holder">
												<ul>
													<li class="select-location">
														<div class="foodbakery-locations-fields-group foodbakery-focus-out">
															<span class="foodbakery-search-location-icon"><i class="icon-location"></i></span>
															<span id="foodbakery_radius_location_open333" class="foodbakery-radius-location"><i class="icon-target5"></i></span>
															<input type="text" name="location" class="location-field-text filter" placeholder="Location (city or country)" autocomplete="off">
														</div>
														<div class="select-location" id="foodbakery-radius-range333" style="display: none;">
															<div class="select-popup popup-open">
																<a id="location_close_popup333" href="javascript:0;" class="location-close-popup">
																	<i class="icon-times"></i></a>
																<input type="hidden" class="foodbakery-radius" name="foodbakery_radius" value="10">
																<p>Show with in</p>
																<input id="ex16b333" type="text" data-value="10" value="10" style="display: none;">
																<script>
																	jQuery(document).ready(function () {
																		var elem = jQuery("#ex16b333");
																		if (elem.length != "") {
																			elem.slider({
																				step: 1,
																				min: 0,
																				max: 500,
																				value: 10,
																			});
																			elem.on("slideStop", function () {
																				var rang_slider_val = elem.val();
																				jQuery("#ex16b333CurrentSliderValLabel").html(rang_slider_val);
																				jQuery("#range-hidden-foodbakery-radius333").val(rang_slider_val);
																				//foodbakery_restaurant_content("333");
																			});
																			elem.on("slide", function () {
																				jQuery("#ex16b333CurrentSliderValLabel").html(elem.val());
																			});
																		}

																		$("#foodbakery_radius_location_open333").click(function () {
																			$("#foodbakery-radius-range333").show();
																		});
																		$("#location_close_popup333").click(function () {
																			$("#foodbakery-radius-range333").hide();
																		});
																	});
																</script>
																<span>Miles: <span id="ex16b333CurrentSliderValLabel">10</span></span><br>
																<p class="my-location">of <i class="cs-color icon-location-arrow"></i><a id="foodbakery-geo-location-all" class="cs-color foodbakery-geo-location313324" href="javascript:void(0)">My location</a></p>
															</div>
														</div>
													</li>
												</ul>
											</div>
										</div>
										<div class="col-lg-2 col-md-2 col-sm-2 col-xs-12">
											<div class="field-holder">
												<input type="submit" value="Search">
											</div>
										</div>
									</div>
								</form>
							</div>
						</div>
						
					</div>
				</div>
			</div>
			<!-- Main Search End -->
			
			<!-- Top Restarurants Section Start -->
			<div class="page-section nopadding cs-nomargin" style="margin-top: 0px;padding-top: 60px;padding-bottom: 0px;margin-bottom: 0px;background: #ffffff;">
				<div class="container">
					<div class="row">
						<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
							<div class="element-title align-left">
								<h2>Top Michelin-Starred Restaurants</h2>
								<p>Discover the world's finest dining establishments with exceptional ratings</p>
							</div>
						</div>
						<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
							<div class="row">
								{% for restaurant in top_restaurants %}
								<div class="col-lg-4 col-md-6 col-sm-6 col-xs-12" style="margin-bottom: 30px;">
									<div class="restaurant-card" style="background: #fff; border: 1px solid #eee; border-radius: 8px; overflow: hidden; transition: all 0.3s ease; box-shadow: 0 2px 10px rgba(0,0,0,0.1); height: 100%;">
										{% if restaurant.images.all %}
											<div class="restaurant-image" style="height: 200px; overflow: hidden; position: relative;">
												<img src="{{ restaurant.images.first.image_file.url }}" style="width: 100%; height: 100%; object-fit: cover;" alt="{{ restaurant.name }}">
												<div style="position: absolute; top: 10px; right: 10px; background: rgba(0,0,0,0.7); color: white; padding: 5px 10px; border-radius: 15px; font-size: 12px;">
													{% for i in "123"|slice:":restaurant.michelin_stars" %}‚òÖ{% endfor %} {{ restaurant.michelin_stars }} Star{{ restaurant.michelin_stars|pluralize }}
												</div>
											</div>
										{% else %}
											<div class="restaurant-image" style="height: 200px; background: linear-gradient(135deg, #e74c3c, #c0392b); display: flex; align-items: center; justify-content: center; position: relative;">
												<span style="color: white; font-size: 24px; font-weight: bold;">{{ restaurant.name|first }}</span>
												<div style="position: absolute; top: 10px; right: 10px; background: rgba(0,0,0,0.7); color: white; padding: 5px 10px; border-radius: 15px; font-size: 12px;">
													{% for i in "123"|slice:":restaurant.michelin_stars" %}‚òÖ{% endfor %} {{ restaurant.michelin_stars }} Star{{ restaurant.michelin_stars|pluralize }}
												</div>
											</div>
										{% endif %}
										<div style="padding: 20px; display: flex; flex-direction: column; justify-content: space-between; flex-grow: 1;">
											<div>
												<h4 style="margin: 0 0 10px 0; font-size: 18px; color: #333;"><a href="{% url 'restaurants:restaurant_detail' restaurant.pk %}" style="text-decoration: none; color: inherit;">{{ restaurant.name }}</a></h4>
												<p style="margin: 0 0 10px 0; color: #666; font-size: 14px;">{{ restaurant.city }}, {{ restaurant.country }}</p>
												<p style="margin: 0 0 15px 0; color: #666; font-size: 13px;">{{ restaurant.cuisine_type|default:"Fine Dining" }}</p>
											</div>
											<div style="display: flex; justify-content: space-between; align-items: center;">
												<span style="color: #e74c3c; font-weight: bold;">‚òÖ {{ restaurant.rating|floatformat:1 }}</span>
												<a href="{% url 'restaurants:restaurant_detail' restaurant.pk %}" class="btn btn-sm" style="background: #e74c3c; color: white; text-decoration: none; padding: 5px 15px; border-radius: 20px; font-size: 12px;">View Details</a>
											</div>
										</div>
									</div>
								</div>
								{% empty %}
								<div class="col-lg-12">
									<p style="text-align: center; color: #666; font-style: italic;">Loading top restaurants...</p>
								</div>
								{% endfor %}
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- Top Restarurants Section End -->
			
			<!-- Recommendations Section Start -->
			<div class="page-section nopadding cs-nomargin" style="margin-top: 0px;padding-top: 60px;padding-bottom: 50px;margin-bottom: 0px;background: #f8f9fa;">
				<div class="container">
					<div class="row">
						<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
							<div class="element-title align-center">
								<h2>Recommended For You</h2>
								<p>Discover restaurants tailored to your taste</p>
							</div>
						</div>
						<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
							<div id="recommendations-container" class="listing fancy">
								<div class="recommendations-loading" style="text-align: center; padding: 40px;">
									<p>Loading personalized recommendations...</p>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- Recommendations Section End -->
			
			<!-- Featured Restaurant Images Section Start -->
			<div class="page-section nopadding cs-nomargin" style="margin-top: 0px;padding-top: 60px;padding-bottom: 50px;margin-bottom: 0px;background: #f8f9fa;">
				<div class="container">
					<div class="row">
						<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
							<div class="element-title align-center">
								<h2>Visual Journey: Exceptional Dining Experiences</h2>
								<p>Explore the ambiance and elegance of world-class restaurants through AI-curated imagery</p>
							</div>
						</div>
						<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
							<div class="row">
								{% for image in visual_showcase %}
								<div class="col-lg-3 col-md-4 col-sm-6 col-xs-12" style="margin-bottom: 30px;">
									<div class="image-showcase-card" style="background: #fff; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 15px rgba(0,0,0,0.1); transition: transform 0.3s ease, box-shadow 0.3s ease; position: relative;">
										<div class="image-container" style="height: 250px; overflow: hidden; position: relative;">
											<img src="{{ image.image_file.url }}" style="width: 100%; height: 100%; object-fit: cover; transition: transform 0.3s ease;" alt="{{ image.restaurant.name }}" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
											<div style="position: absolute; top: 10px; left: 10px; background: rgba(0,0,0,0.8); color: white; padding: 4px 8px; border-radius: 12px; font-size: 11px;">
												AI Confidence: {{ image.category_confidence|floatformat:2 }}
											</div>
											{% if image.restaurant.michelin_stars %}
											<div style="position: absolute; top: 10px; right: 10px; background: #e74c3c; color: white; padding: 4px 8px; border-radius: 12px; font-size: 11px;">
												{% for i in "123"|slice:":image.restaurant.michelin_stars" %}‚òÖ{% endfor %}
											</div>
											{% endif %}
											<div style="position: absolute; bottom: 0; left: 0; right: 0; background: linear-gradient(transparent, rgba(0,0,0,0.7)); padding: 20px 15px 15px; color: white;">
												<h5 style="margin: 0; font-size: 16px; font-weight: 600;"><a href="{% url 'restaurants:restaurant_detail' image.restaurant.pk %}" style="color: white; text-decoration: none;">{{ image.restaurant.name }}</a></h5>
												<p style="margin: 5px 0 0 0; font-size: 13px; opacity: 0.9;">{{ image.restaurant.city }}, {{ image.restaurant.country }}</p>
											</div>
										</div>
									</div>
								</div>
								{% empty %}
								<div class="col-lg-12">
									<p style="text-align: center; color: #666; font-style: italic;">Loading featured restaurant images...</p>
								</div>
								{% endfor %}
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- Featured Restaurant Images Section End -->
			
			<!-- Choose From Most Popular Listin Start -->
			<div class="page-section nopadding cs-nomargin" style="margin-top: 0px;padding-top: 60px;padding-bottom: 50px;margin-bottom: 0px;background: #ffffff;">
				<div class="container">
					<div class="row">
						<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
							<div class="element-title align-center">
								<h2>Choose From Most Popular Restaurants</h2>
								<p>Cum doctus civibus efficiantur in imperdiet deterruisset.</p>
							</div>
						</div>
						<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
							<div class="listing fancy">
								<ul class="row">
									<li class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
										<div class="list-post featured">
											<div class="img-holder">
												<figure><a href="#"><div class="star-placeholder"><i class="icon-star-full"></i></div></a></figure>
												<span class="restaurant-status close">
													<em class="bookmarkRibbon"></em>Close
												</span>
											</div>
											<div class="text-holder">
												<div class="list-rating">
													<div class="rating-star">
														<span class="rating-box" style="width: 100%;"></span>
													</div>
													<span class="reviews">(1)</span>
												</div>
												<div class="post-title">
													<h5>
														<a href="listing-detail.html">Restaurant Demo</a>
														<span class="sponsored text-color">Sponsored</span>
													</h5>
												</div>
												<address> <span>Type of food : </span> Apple Juice</address>
											</div>
											
										</div>
									</li>
									
									
									
									
									<li class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
										<div class="list-post featured">
											<div class="img-holder">
												<figure><a href="#"><div style="width: 100px; height: 100px; background: linear-gradient(135deg, #e74c3c, #c0392b); display: flex; align-items: center; justify-content: center; border-radius: 8px;"><span style="color: white; font-size: 36px;">‚≠ê</span></div></a></figure>
												<span class="restaurant-status open">
													<em class="bookmarkRibbon"></em>open
												</span>
											</div>
											<div class="text-holder">
												<div class="list-rating">
													<div class="rating-star">
														<span class="rating-box" style="width: 100%;"></span>
													</div>
													<span class="reviews">(1)</span>
												</div>
												<div class="post-title">
													<h5>
														<a href="listing-detail.html">Classic Restaurant</a>
														<span class="sponsored text-color">Sponsored</span>
													</h5>
												</div>
												<address> <span>Type of food : </span> Chicken Roast, Chines
													Soup, Cold
													Coffee, Cold Drink, Hot Dogs</address>
											</div>
											
										</div>
									</li>
								</ul>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- Choose From Most Popular Listing End -->

			<!-- Home Pages Elements End  -->
		</div>
		<!-- Main Section End -->
		<!-- Footer Start -->
		<footer id="footer" class="footer-style-2">
			<div class="footer-widget">
				<div class="container">
					<div class="row">
						<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
							<div class="widget widget-newsletter">
								<div class="widget-title">
									<h5>Subscribe to our Newsletter</h5>
								</div>
								<div class="fieldset">
									<form action="#">
										<div class="field-holder">
											<label>
												<i class=" icon-envelope3"></i>
												<input type="text" class="field-input" placeholder=" Enter Your Email Address...">
											</label>
										</div>
										<div class="field-holder btn-holder">
											<input class="subscribe-btn bgcolor" type="submit" value="Sign Up">
										</div>
									</form>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="copyright-sec">
				<div class="container">
					<div class="row">
						<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
							<div class="copyright-inner">
								<div class="copy-right">
									<p>¬© 2020 Foodbakery. All Rights Reserved. Developed By <a href="#">Rathan Kumar</a>
									</p>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div> <!-- /.cs-copyright -->
		</footer>
		<!-- Footer End -->
	</div>
	
	<!-- Modal Popup End -->
	<script src="{% static 'js/scripts.js' %}"></script>
	<script src="{% static 'js/functions.js' %}"></script>
	
	<!-- Restaurant Search and Recommendations -->
	<style>
		.search-suggestions {
			position: absolute;
			top: 100%;
			left: 0;
			right: 0;
			background: white;
			border: 1px solid #ddd;
			border-radius: 5px;
			max-height: 300px;
			overflow-y: auto;
			z-index: 1000;
			box-shadow: 0 4px 6px rgba(0,0,0,0.1);
		}
		
		.suggestion-item {
			padding: 12px 15px;
			border-bottom: 1px solid #eee;
			cursor: pointer;
			display: flex;
			align-items: center;
		}
		
		.suggestion-item:hover {
			background-color: #f8f9fa;
		}
		
		.suggestion-item:last-child {
			border-bottom: none;
		}
		
		.suggestion-image {
			width: 50px;
			height: 50px;
			border-radius: 5px;
			object-fit: cover;
			margin-right: 12px;
		}
		
		.suggestion-content {
			flex: 1;
		}
		
		.suggestion-name {
			font-weight: 600;
			color: #333;
			margin: 0 0 4px 0;
		}
		
		.suggestion-details {
			font-size: 12px;
			color: #666;
			margin: 0;
		}
		
		.recommendation-card {
			background: white;
			border-radius: 10px;
			overflow: hidden;
			box-shadow: 0 2px 8px rgba(0,0,0,0.1);
			margin-bottom: 20px;
			transition: transform 0.3s ease, box-shadow 0.3s ease;
		}
		
		.recommendation-card:hover {
			transform: translateY(-5px);
			box-shadow: 0 4px 15px rgba(0,0,0,0.15);
		}
		
		.recommendation-image {
			width: 100%;
			height: 200px;
			object-fit: cover;
		}
		
		.recommendation-content {
			padding: 15px;
		}
		
		.recommendation-name {
			font-size: 18px;
			font-weight: 600;
			margin: 0 0 8px 0;
			color: #333;
		}
		
		.recommendation-location {
			color: #666;
			font-size: 14px;
			margin: 0 0 8px 0;
		}
		
		.recommendation-stars {
			color: #ffa500;
			margin: 0 0 8px 0;
		}
		
		.recommendation-reasons {
			font-size: 12px;
			color: #888;
			margin: 0;
		}
		
		.restaurant-card-placeholder {
			background: #f8f9fa;
			border-radius: 10px;
			padding: 20px;
			text-align: center;
			color: #666;
		}
	</style>
	
	<script>
		// Search functionality
		document.addEventListener('DOMContentLoaded', function() {
			const searchInput = document.getElementById('restaurant-query');
			const suggestionsContainer = document.getElementById('search-suggestions');
			let searchTimeout;
			
			// Search suggestions
			searchInput.addEventListener('input', function() {
				const query = this.value.trim();
				
				clearTimeout(searchTimeout);
				
				if (query.length < 2) {
					suggestionsContainer.style.display = 'none';
					return;
				}
				
				searchTimeout = setTimeout(() => {
					fetchSearchSuggestions(query);
				}, 300);
			});
			
			// Hide suggestions when clicking outside
			document.addEventListener('click', function(e) {
				if (!searchInput.contains(e.target) && !suggestionsContainer.contains(e.target)) {
					suggestionsContainer.style.display = 'none';
				}
			});
			
			function fetchSearchSuggestions(query) {
				const location = document.querySelector('input[name="location"]').value;
				const url = `{% url 'restaurants:restaurant_search_api' %}?q=${encodeURIComponent(query)}&location=${encodeURIComponent(location)}&max_results=5`;
				
				fetch(url)
					.then(response => response.json())
					.then(data => {
						displaySearchSuggestions(data.results);
					})
					.catch(error => {
						console.error('Search error:', error);
						suggestionsContainer.style.display = 'none';
					});
			}
			
			function displaySearchSuggestions(results) {
				if (results.length === 0) {
					suggestionsContainer.style.display = 'none';
					return;
				}
				
				let html = '';
				results.forEach(restaurant => {
					const imageUrl = restaurant.featured_image?.url || '';
					const stars = '‚≠ê'.repeat(restaurant.michelin_stars || 0);
					
					html += `
						<div class="suggestion-item" onclick="selectRestaurant('${restaurant.url}')">
							${imageUrl ? `<img src="${imageUrl}" alt="${restaurant.name}" class="suggestion-image" onerror="this.parentElement.innerHTML='<div class=\\'star-placeholder-small\\'><i class=\\'icon-star-full\\'></i></div>'">` : `<div class="star-placeholder-small"><i class="icon-star-full"></i></div>`}
							<div class="suggestion-content">
								<h4 class="suggestion-name">${restaurant.name}</h4>
								<p class="suggestion-details">
									${restaurant.city}, ${restaurant.country} ‚Ä¢ ${restaurant.cuisine_type || 'Restaurant'}
									${stars ? ' ‚Ä¢ ' + stars : ''}
								</p>
							</div>
						</div>
					`;
				});
				
				suggestionsContainer.innerHTML = html;
				suggestionsContainer.style.display = 'block';
			}
			
			// Load recommendations
			loadRecommendations();
		});
		
		function selectRestaurant(url) {
			window.location.href = url;
		}
		
		function loadRecommendations() {
			const container = document.getElementById('recommendations-container');
			
			fetch('{% url "restaurants:restaurant_recommendations_api" %}?max_results=6')
				.then(response => response.json())
				.then(data => {
					displayRecommendations(data.recommendations);
				})
				.catch(error => {
					console.error('Recommendations error:', error);
					container.innerHTML = `
						<div class="restaurant-card-placeholder">
							<p>Unable to load recommendations at this time.</p>
						</div>
					`;
				});
		}
		
		function displayRecommendations(recommendations) {
			const container = document.getElementById('recommendations-container');
			
			if (recommendations.length === 0) {
				container.innerHTML = `
					<div class="restaurant-card-placeholder">
						<p>No recommendations available. Try adding some restaurant reviews to get personalized suggestions!</p>
					</div>
				`;
				return;
			}
			
			let html = '<ul class="row">';
			
			recommendations.forEach(rec => {
				const restaurant = rec;
				const imageUrl = restaurant.featured_image?.url || '';
				const stars = '‚≠ê'.repeat(restaurant.michelin_stars || 0);
				const rating = restaurant.rating ? `${restaurant.rating.toFixed(1)}/5` : '';
				const reasons = restaurant.reasons?.slice(0, 2).join(', ') || 'Popular choice';
				
				html += `
					<li class="col-lg-4 col-md-6 col-sm-6 col-xs-12">
						<div class="recommendation-card">
							${imageUrl ? `<img src="${imageUrl}" alt="${restaurant.name}" class="recommendation-image" onerror="this.parentElement.innerHTML='<div class=\\'star-placeholder-small\\'><i class=\\'icon-star-full\\'></i></div>'">` : `<div class="star-placeholder-small"><i class="icon-star-full"></i></div>`}
							<div class="recommendation-content">
								<h3 class="recommendation-name">
									<a href="${restaurant.url}" style="color: inherit; text-decoration: none;">
										${restaurant.name}
									</a>
								</h3>
								<p class="recommendation-location">
									${restaurant.city}, ${restaurant.country}
								</p>
								<div class="recommendation-stars">
									${stars} ${rating}
								</div>
								<p class="recommendation-reasons">
									${reasons}
								</p>
							</div>
						</div>
					</li>
				`;
			});
			
			html += '</ul>';
			container.innerHTML = html;
		}
	</script>
</body>

</html>